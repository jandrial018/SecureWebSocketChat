<!DOCTYPE html>
<html lang="en">
<head>
    <!-- <link rel="icon" href="https://websocketchat.com/favicon.png" sizes="32x32">
  <link rel="icon" href="https://websocketchat.com/favicon.png" sizes="192x192"> -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>GIF Search with Tenor</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background: #f0f0f0;
    }
    input {
      padding: 10px;
      width: 300px;
      font-size: 16px;
    }
    button {
      padding: 10px 15px;
      font-size: 16px;
    }
    #results {
      margin-top: 20px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }
    .gif 
    {
        width: 150px;
        height: 150px;
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .gif img 
    {
        max-width: 100%;
        max-height: 100%;
    }
  </style>
</head>
<body>

  <h1>Search GIFs (Tenor)</h1>
  <input type="text" id="searchTerm" placeholder="Enter a keyword">
  <button onclick="searchGifs()">Search</button>

  <div id="results"></div>

  <script>
    const LIMIT = 20;

    async function searchGifs()
    {
      const term = document.getElementById('searchTerm').value;
      const resultsDiv = document.getElementById('results');
      resultsDiv.innerHTML = '';

      if (!term)
      {
        alert("Please enter a search term.");
        return;
      }

      const url = `https://websocketchat.com/tenor-proxy.php?q=${encodeURIComponent(term)}&limit=${LIMIT}`;

      try
      {
        const response = await fetch(url);
        const data = await response.json();

        if (data.results && data.results.length > 0) {
          data.results.forEach(gif => {
            const gifDiv = document.createElement('div');
            gifDiv.classList.add('gif');
            gifDiv.innerHTML = `<img src="${gif.media_formats.gif.url}" alt="GIF">`;
            resultsDiv.appendChild(gifDiv);
          });
        } 
        else {
          resultsDiv.innerHTML = "<p>No GIFs found.</p>";
        }
      } catch (error) {
        console.error("Error fetching from Tenor:", error);
        resultsDiv.innerHTML = "<p>Error fetching GIFs.</p>";
      }
    }

    document.addEventListener('keydown', function(event)
    {
      if (event.key === 'Enter')
      {
        searchGifs();
        event.preventDefault();
      }
    });
  </script>
</body>
</html>
